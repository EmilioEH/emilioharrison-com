---
import RecipeLayout from '../layouts/RecipeLayout.astro'
import { RecipeInput } from '../components/RecipeInput'

// Server-side check for auth could happen here if not in Layout middleware
const user = Astro.cookies.get('site_user')?.value
if (!user) {
  return Astro.redirect('/login')
}
---

<RecipeLayout title="Add New Recipe">
  <div class="bg-dots-pattern h-full overflow-y-auto px-4 pb-20 pt-8">
    <div className="mx-auto mb-8 max-w-2xl text-center">
      <h1 class="mb-2 font-display text-4xl font-black italic tracking-tighter">ADD RECIPE</h1>
      <p class="font-body text-gray-600">Scan a photo or paste a link. AI will do the rest.</p>
    </div>

    <RecipeInput client:load />
  </div>
</RecipeLayout>
